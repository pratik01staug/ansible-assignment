Q. How would you discover ansible facts?
module - setup
gather_facts - 



Q. What is set_fact module in ansible? How is it different from vars, vars_file or include_var?
set_fact is used to set new variable values on a host-by-host basis which is just like ansible facts, discovered by the setup module
In the case of vars, vars_file, or include_var we know the value beforehand.

set_fact 

Q. Include vars?
Lets say I have variables in a file named after linux distribution, such as ubuntu.yml placed in a directory relative to where I am running the playbook, let say 'vars'. But there are chances that this file is not present and i may want to include variable from another file such as default.yaml, so I may want to look for a retry if first find fails and stop if first find succeeds.

- name: read vars from first file found, use 'vars/' relative subdir
  include_vars: "{{ lookup('first_found', params) }}"
  vars:
    params:
      files:
        - '{{ ansible_distribution }}.yml'
        - '{{ ansible_os_family }}.yml'
        - default.yml
      paths:
        - 'vars'

Q. What are handlers?
Handlers are like special tasks which only run if the Task contains a “notify” directive.

Q. How can looping be done over a list of hosts in a group, inside of a template?

{% for host in groups['db_servers'] %}
{{ host }}
{% endfor %}

Q. Does Ansible provides a way to hide sensitive data such as passwords rather than to keep it as plain text? What is it? and how to use?
ansible-vault encrypt foo.yml bar.yml baz.yml
ansible-vault decrypt foo.yml bar.yml baz.yml

Q. What is Ansible Inventory and its types?
Dynamic inventory is generated by a script written in Python or any other programming language or by using plugins(preferable).

Q. How to setup a jump host to access servers having no direct access?
ansible_ssh_common_args: '-o ProxyCommand="ssh -W %h:%p -q user@gateway.example.com"'

[gatewayed]
staging1 ansible_host=10.0.2.1
staging2 ansible_host=10.0.2.2

Q. How to use a variable generated in one playbook and use the same in different playbook? 
main
---
# Combine multiple playbooks
  - import_playbook: test.play1.yaml
  - import_playbook: test.play2.yaml

test.play1.yaml
---
- hosts: localhost
  gather_facts: false

  tasks:
   - name: Register a new value
     shell: echo "/etc/resolv.conf"
     register: PLAY1VAR

   - debug: msg="{{PLAY1VAR.stdout}}"

test.play2.yaml
---
- hosts: localhost
  gather_facts: false

  tasks:
   - name: Echo the output - PLAY1 variable vaule
     shell: cat "{{PLAY1VAR.stdout}}" |tail -1
     register: PLAY2_RESULTS

   - debug: msg="{{PLAY2_RESULTS.stdout}}"


different host
play1
   - name: Register dummy host with variable
     add_host:
       name: "DUMMY_HOST"
       PLAY1VAR_NEW: " {{ PLAY1VAR.stdout }}"
play2
play2
   - name: Echo the output - PLAY1 variable vaule
     shell: cat {{ hostvars['DUMMY_HOST']['PLAY1VAR_NEW'] }} |tail -1
     register: PLAY2_RESULTS

Q. Difference in include_tasks and import_tasks?
static
dynamic
